<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="">
	<meta name="author" content="Tran Huu Nam">
	<title>Hướng dẫn thuật toán | hoclen.top </title>
	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu+Mono">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="../inc/all.css">
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
   <script src='../inc/all.js'></script>



	<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML' defer>
   MathJax.Hub.Config({
     tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
   });
   </script>

   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async src="https://www.googletagmanager.com/gtag/js?id=G-VK1E3F271W"></script>
   <script>
     window.dataLayer = window.dataLayer || [];
     function gtag(){dataLayer.push(arguments);}
     gtag('js', new Date());

     gtag('config', 'G-VK1E3F271W');
   </script>
	
</head>
<body>
	<marquee>H O C L E N . T O P</marquee>

	<div class="container-fluid">
      <div class="row"><a href="/"><img id="imgheader" src="../inc/header.png"/></a>      </div>
		<div class="row">
			<div class="col-md-6" style="padding-left:7px; padding-right:7px">
				<div class="card window" id="ytuong">
					<div class="card-header window-header"><span class="title">Phân tích - Ý tưởng</span></div>
					<div class="card-body window-body content">

						<p>Thỏ lạc 2</p>
						<p>Cho thỏ nhảy lùi lại, ta có giả thiết tương đương: bước nhảy sau không ngắn hơn bước nhảy trước.</p>
						<p>Gọi M[i] là số cách nhảy i (m) mà bước nhảy cuối cùng là 1m.</p>
						<p>Gọi H[i] là số cách nhảy i (m) mà bước nhảy cuối cùng là 2m.</p>
						<p>Gọi B[i] là số cách nhảy i (m) mà bước nhảy cuối cùng là 3m.</p>
						<p>Ta tính M[i], H[i], B[i]:</p>
						<p>M[i] = M[i-1] = M[i-2] = ... = M[1] = 1;</p>
						<p>H[i] = M[i-2] + H[i-2] = 1 + H[i-2];</p>
						<p>Ta tính được H[i] = i div 2;</p>
						<p>B[i]=M[i-3]+H[i-3]+B[i-3] = 1 + (i-3) div 2 + B[i-3] = (i-1) div 2 + B[i-3] = F[i-3].</p>
						<p>Đáp án: F[n] = M[n]+H[n]+B[n] = 1 + n div 2 + B[n];</p>
						<p>Phân tích: </p>
						<p>F[i] = 0.F[i-1]+0.F[i-2]+1.F[i-3]+ 1.(i div 2)+1.(i mod 2) + 0.1; </p>
						<p>F[i-1] = 1.F[i-1]+0.F[i-2]+0.F[i-3]+ 0.(i div 2)+0.(i mod 2) + 0.1; </p>
						<p>F[i-2] = 0.F[i-1]+1.F[i-2]+0.F[i-3]+ 0.(i div 2)+0.(i mod 2) + 0.1; </p>
						<p>(i+1) div 2 = 0.F[i-1]+0.F[i-2]+0.F[i-3]+ 1.(i div 2)+1.(i mod 2) + 0.1; </p>
						<p>(i+1) mod 2 = 0.F[i-1]+0.F[i-2]+0.F[i-3]+ 0.(i div 2)-1.(i mod 2) + 1.1; </p>
						<p>1 = 0.F[i-1]+0.F[i-2]+0.F[i-3]+ 0.(i div 2)+0.(i mod 2) + 1.1; </p>
						<p>Ta được ma trận:</p>
                  <pre>
0 0 1 1 1 0
1 0 0 0 0 0
0 1 0 0 0 0
0 0 0 1 1 0
0 0 0 0 0 1
                  </pre>
					</div>
				</div>


				<div class="card window" id="thuattoan">
					<div class="card-header window-header"><span class="title">Thuật toán</span></div>
					<div class="card-body window-body content">

						<ul>
                     <li></li>
                     
                     <ul>
                        
                     </ul>
                     

						</ul>      

					</div>
				</div>

					  

					  
						
				<div class="card window" id="binhluan">
					<div class="card-header window-header"><span class="title">Ghi chú thêm</span></div>
					<div class="card-body window-body content">
                  <p></p>
                  
					</div>
				</div> 
			</div>

			<div class="col-md-6" style="padding-left:7px; padding-right:7px">
				<div class="card window" id="chuongtrinh">
				<div class="card-header window-header"><span class="title">Chương trình</span></div>
					
					
				<pre><code class="language-cpp">
//toi.hoclen.top
#include &lt;bits/stdc++.h&gt;
#define fu(i,a,b) for (long long i=a; i&lt;=b; i++)
#define fd(i,a,b) for (long long i=a; i&gt;=b; i--)
using namespace std;
typedef long long ll;
const ll N=1e6+10;
const ll M=1e6;
ll n;
// Sub 1
ll dp[N];
void Sub1()
{
    dp[0]=1;
    fu(i,1,n)
    {
        if (i&gt;=1) {dp[i]+=dp[i-1];}
        dp[i]%=M;
        if (i&gt;=2) {dp[i]+=dp[i-2];}
        dp[i]%=M;
        if (i&gt;=3) {dp[i]+=dp[i-3];}
        dp[i]%=M;
    }
    cout&lt;&lt;dp[n];
}
// Sub 2
struct matrix
{
    ll v[3][3];
};
matrix tich(matrix a, matrix b)
{
    matrix tmp;
    fu(i,0,2)
    {
        fu(j,0,2)
        {
            tmp.v[i][j]=0;
        }
    }
    fu(i,0,2)
    {
        fu(j,0,2)
        {
            fu(k,0,2)
            {
                tmp.v[i][j]+=(a.v[i][k]*b.v[k][j])%M;
                tmp.v[i][j]%=M;
            }
        }
    }
    return tmp;
}
matrix power(matrix x, ll y)
{
    if (y==1) {return x;}
    matrix half=power(x,y/2);
    matrix res=tich(half,half);
    if (y%2==1)
    {
        res=tich(res,x);
    }
    return res;
}
void Sub2()
{
    if (n==1) {cout&lt;&lt;"1"; return;}
    if (n==2) {cout&lt;&lt;"2"; return;}
    if (n==3) {cout&lt;&lt;"4"; return;}
    matrix a;
    a.v[0][0]=1;
    a.v[0][1]=1;
    a.v[0][2]=1;
    a.v[1][0]=1;
    a.v[1][1]=0;
    a.v[1][2]=0;
    a.v[2][0]=0;
    a.v[2][1]=1;
    a.v[2][2]=0;
    ll g=n-3;
    matrix kq=power(a,g);
    ll res=(((kq.v[0][0]*4)%M)+((kq.v[0][1]*2)%M)+((kq.v[0][2]*1)%M))%M;
    cout&lt;&lt;res;
}
int main()
{
    freopen("BAI4.INP","r",stdin);
    freopen("BAI4.OUT","w",stdout);
    cin.tie(NULL);
    cout.tie(NULL);
    ios_base::sync_with_stdio(false);
    cin&gt;&gt;n;
    if (n&lt;=1e6)
    {
        Sub1();
        return 0;
    }
    Sub2();
}



				</code></pre>
				
					
				</div>
			</div>
		</div>
	</div>



    <footer class="page-footer">
		<div class="footer-copyright">
			<div class="container-fluid">
			  &copy; 2022 hoclen.top 
			</div>
		</div>
	</footer>

    
</body>
</html>
